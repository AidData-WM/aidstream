<?php $identity = Zend_Auth::getInstance()->getIdentity();

?>

<?php
$container = new Zend_Navigation();
$this->navigation($container);

switch($identity->role){
    case 'superadmin' :
        $container->addPage(
            array(
                'label' => 'Dashboard',
                'module' => 'default',
                'controller' => 'admin',
                'action' => 'dashboard',
                'pages' => array(
                    array(
                        'label' => 'Add Organisation',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'register',
                    ),
                    array(
                        'label' => 'List Help Topics',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'list-help',
                    ),
                    array(
                        'label' => 'List Organisation',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'list-organisation',
                    ),
                    array(
                        'label' => 'Validate XML',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'validate-xml-files',
                    ),
                    array(
                        'label' => 'List Activity States',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'list-activity-states'
                    ),
                    array(
                        'label' => 'Group Organisations',
                        'module' => 'default',
                        'controller' => 'admin',
                        'action' => 'group-organisations',
                        'pages' => array(
                            array(
                                'label' => 'Create Organisation Group',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'create-organisation-group'
                            ),
                            array(
                                'label' => 'Edit Organisation Group',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'edit-group'
                            )
                        )
                    ),
                    array(
                        'label' => 'My Profile',
                        'module' => 'user',
                        'controller' => 'user',
                        'action' => 'myaccount',
                        'pages' => array(
                            array(
                                'label' => 'Edit Profile',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'edit',
                            ),
                            array(
                                'label' => 'Change Password',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changepassword',
                            ),
                            array(
                                'label' => 'Change Username',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changeusername',
                            ),
                        ),
                    ),
                    
                ),
            )
        );
        break;
    case 'groupadmin':
        $container->addPage(
            array(
                'label' => 'Dashboard',
                'module' => 'default',
                'controller' => 'group',
                'action' => 'dashboard',
                'pages' => array(
                    array(
                        'label' => 'List Organisation',
                        'module' => 'default',
                        'controller' => 'group',
                        'action' => 'list-organisation'
                    ),
                    array(
                        'label' => 'My Profile',
                        'module' => 'user',
                        'controller' => 'user',
                        'action' => 'myaccount',
                        'pages' => array(
                            array(
                                'label' => 'Edit Profile',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'edit',
                            ),
                            array(
                                'label' => 'Change Password',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changepassword',
                            ),
                            array(
                                'label' => 'Change Username',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changeusername'
                            )
                        )
                    )
                )
            )
        );
        break;
    case 'admin':
        $container->addPage(
            array(
                'label' => 'Dashboard',
                'module'     => 'default',
                'controller' => 'wep',
                'action'     => 'dashboard',
                'pages'      => array(
                    array(
                        'label' => 'Settings',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'settings',
                    ),
                    array(
                        'label' => 'List Published Files',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'list-published-files',
                    ),
                    array(
                        'label' => 'Download My Data',
                        'module' => 'default',
                        'controller' => 'wep',
                        'action' => 'download-my-data'
                    ),
                    array(
                        'label' => 'Uploaded Docs',
                        'module' => 'default',
                        'controller' => 'wep',
                        'action' => 'list-uploaded-documents'
                    ),
                    array(
                        'label' => 'Add Activity',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'add-activity',
                    ),
                    array(
                        'label' => 'Edit Activity',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'edit-activity',
                    ),
                    array(
                        'label' => 'Add Activity',
                        'module'     => 'default',
                        'controller' => 'activity',
                        'action'     => 'add-element',
                    ),
                    array(
                        'label' => 'Edit Activity',
                        'module'     => 'default',
                        'controller' => 'activity',
                        'action'     => 'edit-element',
                    ),
                    array(
                        'label' => 'Duplicate Activity',
                        'module' => 'default',
                        'controller' => 'activity',
                        'action' => 'duplicate-activity',
                    ),
                    array(
                        'label' => 'View Organisation Data',
                        'module'     => 'default',
                        'controller' => 'organisation',
                        'action'     => 'view-elements',
                    ),
                    array(
                        'label' => 'Add-Element',
                        'module'     => 'default',
                        'controller' => 'organisation',
                        'action'     => 'add-elements',
                    ),
                    array(
                         'label' => 'Edit-Element',
                         'module'     => 'default',
                         'controller' => 'organisation',
                         'action'     => 'edit-elements',
                    ), 
                    array(
                        'label' => 'My Profile',
                        'module' => 'user',
                        'controller' => 'user',
                        'action' => 'myaccount',
                        'pages' => array(
                            array(
                                'label' => 'Edit Profile',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'edit',
                            ),
                            array(
                                'label' => 'Change Password',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changepassword',
                            ),
                            array(
                                'label' => 'Change Username',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changeusername'
                            )
                        ),
                    ),
                    
                    array(
                        'label' => 'List Activities',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'view-activities',
                        'pages' => array(
                            array(
                                'label' => 'View Activity',
                                'module'     => 'default',
                                'controller' => 'activity',
                                'action'     => 'view-activity-info',
                            ),
                            array(
                                'label' => 'Add',
                                'module'     => 'default',
                                'controller' => 'activity',
                                'action'     => 'add-element',
                            ),
                            array(
                                'label' => 'Edit',
                                'module'     => 'default',
                                'controller' => 'activity',
                                'action'     => 'edit-element',
                            ),
                            array(
                                'label' => 'List Elements',
                                'module'     => 'default',
                                'controller' => 'activity',
                                'action'     => 'list-elements',
                            ),
                            array(
                                'label' => 'Upload Transaction',
                                'module' => 'default',
                                'controller' => 'wep',
                                'action'    => 'upload-transaction'
                            )
                        ),
                    ),
                    array(
                        'label' => 'List Users',
                        'module'     => 'default',
                        'controller' => 'admin',
                        'action'     => 'list-users',
                        'pages' => array(
                            array(
                                'label' => 'User Profile',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'view-profile',
                            ),
                            array(
                                'label' => 'Edit User Permission',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'edit-user-permission',
                            ),
                            array(
                                'label' => 'User Register',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'register-user',
                            ),
                            array(
                                'label' => 'Reset User Password',
                                'module' => 'default',
                                'controller' => 'admin',
                                'action' => 'reset-user-password',
                            ),
                        ),
                    ),

                ),
            )
        );
        $container->addPage(
            array(
                'label'         => 'Dashboard',
                'module'        => 'simplified',
                'controller'    => 'default',
                'action'        => 'dashboard',
                'pages'         =>  array(
                    array(
                        'label' => 'List Activities',
                        'module'     => 'simplified',
                        'controller' => 'default',
                        'action'     => 'view-activities',
                        'pages' => array(
                            array(
                                'label' => 'View Activity',
                                'module'     => 'simplified',
                                'controller' => 'default',
                                'action'     => 'view-activity',
                            ),
                            array(
                                'label' => 'Add Activity',
                                'module'     => 'simplified',
                                'controller' => 'default',
                                'action'     => 'add-activity',
                            ),
                            array(
                                'label' => 'Edit Activity',
                                'module'     => 'simplified',
                                'controller' => 'default',
                                'action'     => 'edit-activity',
                            ),
                        )
                    ),
                    array(
                        'label'     => 'Settings',
                        'module'    => 'simplified',
                        'controller' => 'default',
                        'action'    => 'settings'
                    )
                )
            )
        );
        break;
    case 'user':
        $container->addPage(
            array(
                'label' => 'Dashboard',
                'module'     => 'default',
                'controller' => 'wep',
                'action'     => 'dashboard',
                'pages'      => array(
                    array(
                        'label' => 'Published Files',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'list-published-files',
                    ),
                    array(
                        'label' => 'Add Activity',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'add-activity',
                    ),
                    array(
                        'label' => 'Edit Activity',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'edit-activity',
                    ),
                    array(
                        'label' => 'Add Activity',
                        'module'     => 'default',
                        'controller' => 'activity',
                        'action'     => 'add-element',
                    ),
                    array(
                        'label' => 'Edit Activity',
                        'module'     => 'default',
                        'controller' => 'activity',
                        'action'     => 'edit-element',
                    ),
                    array(
                        'label' => 'Edit Elements',
                        'module'     => 'default',
                        'controller' => 'organisation',
                        'action'     => 'edit-elements',
                    ),
                    array(
                        'label' => 'Duplicate Activity',
                        'module' => 'default',
                        'controller' => 'activity',
                        'action' => 'duplicate-activity',
                    ),
                    array(
                        'label' => 'Download My Data',
                        'module' => 'default',
                        'controller' => 'wep',
                        'action' => 'download-my-data'
                    ),
                    array(
                        'label' => 'View Organisation Data',
                        'module'     => 'default',
                        'controller' => 'organisation',
                        'action'     => 'view-elements',
                    ),
                    array(
                        'label' => 'Uploaded Docs',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'list-uploaded-documents',
                    ),
                    array(
                        'label' => 'List Activities',
                        'module'     => 'default',
                        'controller' => 'wep',
                        'action'     => 'view-activities',
                        'pages' => array(
                            array(
                                'label' => 'Activity',
                                'module'     => 'default',
                                'controller' => 'wep',
                                'action'     => 'add-activity-elements',
                            ),
                            array(
                                'label' => 'Activity',
                                'module'     => 'default',
                                'controller' => 'wep',
                                'action'     => 'edit-activity-elements',
                            ),
                            array(
                                'label' => 'Activity',
                                'module'     => 'default',
                                'controller' => 'wep',
                                'action'     => 'view-activity',
                            ),
                            array(
                                'label' => 'View Activity',
                                'module' => 'default',
                                'controller' => 'activity',
                                'action' => 'view-activity-info',
                            )
                        ),
                    ),
                    array(
                        'label' => 'My Profile',
                        'module'     => 'user',
                        'controller' => 'user',
                        'action'     => 'myaccount',
                        'pages' => array(
                            array(
                                'label' => 'Edit Profile',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'edit',
                            ),
                            array(
                                'label' => 'Change Password',
                                'module' => 'user',
                                'controller' => 'user',
                                'action' => 'changepassword'
                            )
                        ),
                    )
                )
            )
        );
        break;
    default :
    break;

}
$breadcrumb = $this->navigation()->breadcrumbs()->setLinkLast(false)->setMinDepth(0)->render();
?>
<?php if($breadcrumb): ?>
    <div id="breadcrumb">
        <div class="breadcrumbs">
            <?php echo $breadcrumb; ?>
        </div>
    </div>
<?php endif; ?>




